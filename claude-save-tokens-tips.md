# Claude Code 省钱小技巧 💰

用 Claude Code 爽是爽，但 token 消耗太快钱包受不了？别慌！这篇教你怎么和 Claude 聊天更省钱 💸

## 为什么要省 token？🤔

Claude 虽然强大，但它按 token 计费。简单说就是：
- 你说的每个字 → 花钱 💬
- Claude 读的每个文件 → 花钱 📄
- Claude 回复的每个字 → 花钱 🤖

**所以学会省 token = 省钱！**

## 实用技巧速查 ⚡

### 1. 说话要精简，别废话

❌ **啰嗦版**（浪费 token）
```
你能不能帮我看一下这个文件，然后告诉我这个文件里面都有什么内容？
```

✅ **简洁版**（省钱）
```
分析这个文件
```

**省钱秘诀**：Claude 很聪明，不用教它怎么做，直接说要什么结果！

---

### 2. 一次性问清楚，别分开问

❌ **分次问**（每次都要付费）
```
第1次：这个函数做什么？
第2次：它有什么参数？
第3次：返回值是什么？
```

✅ **一次问完**（只付一次钱）
```
分析这个函数的功能、参数和返回值
```

**省钱秘诀**：合并问题，一口气问完！

---

### 3. 用精确路径，别让 Claude 到处找

❌ **模糊指令**（Claude 会翻遍整个项目）
```
帮我找项目里的配置文件
```

✅ **精确路径**（直达目标）
```
读取 ./config/app.js
```

**省钱秘诀**：知道文件在哪就直接说，别让 Claude 瞎找！

---

### 4. 大文件只读需要的部分

❌ **全文阅读**（5000 行全读，token 爆炸）
```
读取 huge-file.js
```

✅ **按需阅读**（只读 100-150 行）
```
读取 huge-file.js 的第 100-150 行
```

**省钱秘诀**：文件越大越要注意，别一口气全读！

---

### 5. 探索代码用 Task 工具

❌ **在主对话里反复搜索**（每次搜索都计费）
```
你：帮我找找哪里用了这个变量
Claude：[搜索...]
你：再找找哪里定义的
Claude：[又搜索...]
```

✅ **用 Task 工具探索**（搜索过程不占主对话 token）
```
用 Task(Explore) 帮我分析这个变量的使用情况
```

**省钱秘诀**：让 Claude 开小号去探索，主号不计费！

---

### 6. 避免创建没用的文档

❌ **文档狂魔**
```
帮我写个 TODO.md、CHANGELOG.md、NOTES.md、SUMMARY.md...
```

✅ **按需创建**
```
只在真正需要时才创建文档
```

**省钱秘诀**：Claude 写文档也要钱，没必要别乱建！

---

### 7. 用 Git 信息替代重复读文件

❌ **笨办法**（读 N 个文件了解改动）
```
读 file1.js、file2.js、file3.js... 看看改了啥
```

✅ **聪明办法**（一条命令搞定）
```bash
git diff
git log -p
```

**省钱秘诀**：Git 记录了所有改动，直接看就行！

---

## 进阶技巧 🚀

### 合并相关操作

别让 Claude 一步一步来，一次性说清楚：

```
❌ 先读文件 → 再分析 → 再修改
✅ 读取 xxx.js 并修复所有类型错误
```

### 监控 token 使用

注意聊天界面底部的提示：
```
Token usage: 18267/200000
```

如果涨得太快，说明你该优化提问方式了！

### 定期清理对话

对话太长会越来越贵，该结束就结束：
- 任务完成 → 结束对话 → 开新对话
- 跑题了 → 结束对话 → 开新对话

---

## 省钱公式 📊

```
精确提问 + 一次问完 + 按需读取 = 省钱高手 🎯
```

## 小测验 🎮

现在来个小测验，看看你学会了没？

**场景**：你想了解项目的整体结构

❌ **新手做法**（可能消耗 50,000+ tokens）
```
帮我了解项目结构
→ Claude 读 package.json
→ 读 README.md
→ 搜索所有文件
→ 读 10+ 个文件
```

✅ **高手做法**（可能只消耗 5,000 tokens）
```
用 Task(Explore) 分析项目结构
→ Claude 开小号探索
→ 只返回摘要结果
```

**你选哪个？** 😎

---

## 总结 🎯

记住这几个核心原则：

1. **话要少** → 精简提问，别废话
2. **一次问** → 合并问题，别拆分
3. **要精确** → 直接说路径，别让找
4. **按需读** → 大文件分段读，别全读
5. **用工具** → Task 探索不计费，多用它

**最重要的**：Claude 很聪明，别把它当笨蛋教，直接说要啥！

---

## 延伸阅读 📚

- [Claude Code 官方文档](https://code.claude.com/docs)
- [CLAUDE.md 配置层级指南](./claude-config-hierarchy.md)

---

*最后更新: 2025-11-22*
